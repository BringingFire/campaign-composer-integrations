openapi: '3.0.0'

components:
  schemas:
    documentType:
      type: string
      enum:
      - entity
      - scratchpad
    documentMeta:
      type: object
      required:
      - id
      - type
      - created
      - updated
      properties:
        id:
          type: string
        title:
          type: string
        type:
          $ref: '#/components/schemas/documentType'
        created:
          type: string
        updated:
          type: string
    document:
      type: object
      required:
      - id
      - type
      - created
      - updated
      - contents
      properties:
        id:
          type: string
        title:
          type: string
        type:
          $ref: '#/components/schemas/documentType'
        created:
          type: string
        updated:
          type: string
        contents:
          type: array
          items:
            $ref: '#/components/schemas/block'
    blockType:
      type: string
      enum:
      - heading
      - paragraph
      - listItem
      - embed
    block:
      type: object
      required:
      - id
      - type
      - contents
      properties:
        id:
          type: string
        type:
          $ref: '#/components/schemas/blockType'
        contents:
          type: string