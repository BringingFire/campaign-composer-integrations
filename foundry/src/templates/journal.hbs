{{#*inline "documentPartial"}}
<article class="document flexrow" data-document-id="{{ this.id }}" data-entry-id="{{ this.entry.id }}">
    <h3 class="document-title">{{#if this.title}}{{ this.title }}{{else}}Untitled Document{{/if}}</h3>
    <div class="controls">
        <button
            type="button"
            class="campaign-composer-control"
            data-action="sync-document"
            title="Sync"
        >
            <i class="fas fa-file-import fa-fw"></i>
        </button>
    </div>
    {{!-- <div class="controls">
        {{#if this.entry }}
            {{#if this.visibleByPlayers }}
                <button type="button" class="world-anvil-control" data-action="hide-entry" data-entry-id="{{ this.entry.id }}" title="{{ localize 'WA.ButtonVisibilityHide' }}">
                    <i class="far fa-eye"></i>
                </button>
            {{else}}
                <button type="button" class="world-anvil-control" data-action="display-entry" data-entry-id="{{ this.entry.id }}" title="{{ localize 'WA.ButtonVisibilityDisplay' }}">
                    <i class="far fa-eye-slash"></i>
                </button>
            {{/if}}

            <button type="button" class="world-anvil-control" data-action="sync-entry" title="{{localize 'WA.ButtonSyncArticle'}}">
                <i class="fas fa-sync fa-fw"></i>
            </button>
        {{else}}
            <button type="button" class="world-anvil-control" data-action="sync-entry" title="{{localize 'WA.ButtonImportArticle'}}">
                <i class="fas fa-file-import fa-fw"></i>
            </button>
        {{/if}}
        <button type="button" class="world-anvil-control">
            <a class="world-anvil-link" href="{{this.url}}" title="{{ localize 'WA.ButtonOnWA' }}" target="_blank"></a>
        </button>
    </div> --}}
</article>
{{/inline}}

<section>
  <header class="flex-header">
    <h1 class="grow-header">
        Documents
    </h1>
    <button
        class="campaign-composer-control"
        type="button"
        class="campaign-composer-control"
        data-action="sync-all-documents"
        title="Sync all"
    >
        <i class="fas fa-file-import fa-fw"></i>
    </button>
  </header>
  {{#each docsByFolder}}
  <section class="composer-folder-section">
    <header class="flex-header">
        <h2 class="grow-header">
            {{#if this.folder}}
            {{this.folder}}
            {{else}}
            <i>No Folder</i>
            {{/if}}
        </h2>
        <button
            class="campaign-composer-control"
            type="button"
            class="campaign-composer-control"
            data-action="sync-documents-in-folder"
            {{#if this.folder}}
            data-folder="{{this.folder}}"
            title="Sync all in {{this.folder}}"
            {{else}}
            title="Sync all with no folder"
            {{/if}}
        >
            <i class="fas fa-file-import fa-fw"></i>
        </button>
    </header>
  {{#each this.documents}}
  {{> "documentPartial"}}
  {{/each}}
  </section>
  {{/each}}
</section>
